---
description: RFC 2080 - RIPng for IPv6，由G. Malkin和R. Minnear于1997年1月发布，是RIP协议针对IPv6的扩展版本，基于RFC 1058和RFC 1723，代表了使RIP在IPv6上运行所需的最小变更
keywords:
  - RFC2080
  - RIPng
  - RIP for IPv6
  - IPv6路由
  - 距离矢量
  - IGP
  - 内部网关协议
  - 下一跳
  - Next Hop
  - IPv6
  - 路由协议
properties:
  rfc_number: 2080
  title: "RIPng for IPv6"
  authors:
    - name: "G. Malkin"
      organization: "Xylogics"
    - name: "R. Minnear"
      organization: "Ipsilon Networks"
  publication_date: "1997-01"
  status: "标准跟踪协议"
  category: "路由协议"
  based_on:
    - "RFC 1058"
    - "RFC 1723"
  related_rfc:
    - "RFC 1058"
    - "RFC 2453"
---
# RFC 2080 - RIPng for IPv6

## 文档概述

RFC 2080是由Xylogics的G. Malkin和Ipsilon Networks的R. Minnear于1997年1月发布的IPv6路由协议规范文档，标题为"RIPng for IPv6"。

该文档规定了IPv6互联网的路由协议。它基于IPv4互联网中广泛使用的协议和算法。该规范代表了对RFC 1058和RFC 1723中规定的路由信息协议（RIP）在IPv6上运行所需的最小变更。

RIPng（RIP next generation）是RIP协议家族的IPv6版本，保留了RIP的核心距离矢量算法，但适配了IPv6的128位地址空间和新的网络特性。

## 历史背景

### IPv6的出现

随着IPv4地址空间的枯竭，IPv6作为下一代互联网协议被开发出来。IPv6使用128位地址，提供了几乎无限的地址空间。

### RIP协议演进

- **1988年** - RFC 1058定义RIP-1（IPv4）
- **1994年** - RFC 1723定义RIP-2（IPv4增强版）
- **1997年** - RFC 2080定义RIPng（IPv6版本）

### 设计原则

RIPng的设计遵循最小变更原则，仅对RIP进行必要的修改以支持IPv6，保持与RIP-1和RIP-2的概念一致性。

## 1. 引言

RIPng基于Bellman-Ford（距离矢量）算法，该算法自ARPANET早期以来就用于计算机网络中的路由计算。

### 1.1. 理论基础

RIPng继承了RIP的距离矢量算法理论基础，每个路由器维护到每个目的地的最佳已知距离。

### 1.2. 协议限制

RIPng保留了RIP的基本限制：
- 最大跳数为15
- 适用于中等规模的自治系统
- 不适合复杂环境

## 2. 协议规范

### 2.1. 消息格式

RIPng使用UDP端口521（不同于RIP的520）。消息格式适配了IPv6的128位地址。

#### 2.1.1. 下一跳（Next Hop）

RIPng引入了特殊的下一跳RTE（Route Table Entry），允许指定与发送路由器不同的下一跳IPv6地址。

### 2.2. 地址考虑

RIPng使用IPv6的128位地址和前缀长度表示法，支持IPv6的地址层次结构。

### 2.3. 定时器

RIPng使用与RIP相同的定时器值：
- 更新间隔：30秒
- 超时时间：180秒
- 垃圾收集：120秒

### 2.4. 输入处理

RIPng处理请求和响应消息的方式与RIP类似，但使用IPv6地址。

### 2.5. 输出处理

RIPng使用IPv6组播地址FF02::9发送更新，这是RIPng路由器的链路本地组播地址。

### 2.6. 水平分割

RIPng实现水平分割以防止路由环路，与RIP的实现方式相同。

## 3. 控制功能

RIPng可以包括各种控制功能以提供更大的灵活性和可配置性。

## 4. 安全考虑

RIPng依赖IPv6的IPsec提供安全性，而不是像RIP-2那样在协议内部实现认证。

## RIP协议家族对比

| 特性 | RIP-1 | RIP-2 | RIPng |
|------|-------|-------|-------|
| RFC | 1058 | 2453 | 2080 |
| 协议版本 | IPv4 | IPv4 | IPv6 |
| UDP端口 | 520 | 520 | 521 |
| 地址长度 | 32位 | 32位 | 128位 |
| 子网掩码 | 无 | 支持 | 前缀长度 |
| 认证 | 无 | 支持 | IPsec |
| 组播地址 | N/A | 224.0.0.9 | FF02::9 |

## 技术影响与意义

### RIPng的关键特性

RIPng成功地将RIP协议适配到IPv6环境：

1. **最小变更原则** - 保持与RIP的概念一致性
2. **IPv6原生支持** - 使用128位地址和前缀长度
3. **简化安全** - 依赖IPv6的IPsec而非内置认证

### 与RIP-2的主要区别

RIPng与RIP-2的主要区别在于地址处理和安全机制，而核心算法保持不变。

## 总结

RFC 2080定义了RIPng，是RIP协议针对IPv6的适配版本。

该文档基于RFC 1058（RIP-1）和RFC 1723（RIP-2），代表了使RIP在IPv6上运行所需的最小变更。RIPng保留了RIP的核心距离矢量算法和15跳限制，但适配了IPv6的特性。

主要变更包括：

1. **使用UDP端口521** - 与RIP的520端口区分
2. **支持IPv6 128位地址** - 使用前缀长度表示法
3. **IPv6组播** - 使用FF02::9链路本地组播地址
4. **下一跳RTE** - 特殊的路由表条目类型
5. **依赖IPsec** - 安全性由IPv6的IPsec提供

RIPng遵循最小变更原则，使得熟悉RIP的网络管理员可以轻松理解和部署。尽管RIPng仍然保留了15跳限制和收敛速度慢等固有缺点，但其简单性使其成为小型IPv6网络的实用选择。


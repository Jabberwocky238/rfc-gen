---
description: RFC 1183 - 新DNS资源记录定义，由C. Everhart等人于1990年10月发布，定义了五种新的DNS资源记录类型用于实验目的，包括AFS数据库位置(AFSDB)、责任人(RP)、X.25地址(X25)、ISDN地址(ISDN)和路由绑定(RT)记录
keywords:
  - RFC1183
  - DNS
  - 域名系统
  - DNS资源记录
  - AFSDB
  - AFS数据库
  - 责任人记录
  - RP记录
  - X.25地址
  - ISDN地址
  - 路由绑定
  - RT记录
  - DCE
  - NCA
  - 网络地址
  - DNS扩展
properties:
  rfc_number: 1183
  title: "New DNS RR Definitions"
  authors:
    - name: "C. Everhart"
      organization: "Transarc"
    - name: "L. Mamakos"
      organization: "University of Maryland"
    - name: "R. Ullmann"
      organization: "Prime Computer"
    - name: "P. Mockapetris"
      organization: "ISI"
      role: "Editor"
  publication_date: "1990-10"
  status: "实验性协议"
  category: "DNS扩展"
  updates:
    - "RFC 1034"
    - "RFC 1035"
---
# RFC 1183 - 新DNS资源记录定义

## 文档概述

RFC 1183是由Transarc的C. Everhart、马里兰大学的L. Mamakos、Prime Computer的R. Ullmann以及ISI的P. Mockapetris（编辑）于1990年10月发布的DNS扩展规范文档，标题为"New DNS RR Definitions"（新DNS资源记录定义）。

该文档定义了五种新的DNS资源记录（RR）类型，用于实验性目的。这些定义分为三个独立的部分：
1. **AFS数据库服务器位置** - AFSDB记录
2. **责任人位置** - RP记录
3. **X.25和ISDN地址表示及路由绑定** - X25、ISDN和RT记录

RFC 1183更新了RFC 1034和RFC 1035，为DNS系统增加了新的功能扩展。文档假设读者熟悉DNS的基本概念，所展示的数据主要用于教学目的，不一定反映真实的互联网环境。

## 历史背景

### DNS的发展需求

在1990年，DNS已经成为互联网的核心基础设施，但随着网络应用的多样化，需要在DNS中存储更多类型的信息。传统的DNS主要用于主机名到IP地址的映射，但新兴的分布式文件系统、责任人追踪和广域网地址管理等需求促使了新资源记录类型的开发。

### AFS和DCE的影响

Andrew File System (AFS)是由卡内基梅隆大学开发的分布式文件系统，后来成为Transarc公司的注册商标。开放软件基金会(OSF)的分布式计算环境(DCE)也需要类似的命名服务。这些系统需要通过DNS来定位服务器，促成了AFSDB记录的诞生。

### 广域网地址管理

随着X.25公共数据网络和ISDN（综合业务数字网）的发展，需要在DNS中表示这些网络地址，以支持IP over X.25等协议。这推动了X25、ISDN和RT记录的定义。

## 1. AFS数据库位置 (AFSDB)

### 概述

AFSDB资源记录用于定位AFS和DCE认证命名服务的数据库服务器。该记录类型的助记符为AFSDB，类型代码为18（十进制）。

### 记录格式

```
<owner> <ttl> <class> AFSDB <subtype> <hostname>
```

**字段说明：**
- `<owner>`: 域名所有者（AFS单元或DCE单元的域名）
- `<ttl>`: 生存时间
- `<class>`: 类别（通常为IN）
- `<subtype>`: 16位整数，指示服务类型
- `<hostname>`: 拥有该单元服务器的主机域名

### 子类型语义

- **子类型 1**: 主机拥有AFS 3.0版本的卷位置服务器（Volume Location Server）
- **子类型 2**: 主机拥有DCE/NCA单元的认证名称服务器，持有单元根目录节点

### 设计考虑

使用子类型的动机有两个：
1. DNS资源记录类型空间有限
2. 提供的服务足够不同，避免客户端使用错误的协议连接服务器

### 附加段处理

AFSDB记录会触发对`<hostname>`的A类型附加段处理。这是使用新类型代码而非TXT记录的理由。

### 示例

**示例1：Toaster公司的AFS 3.0部署**

```
toaster.com.   AFSDB   1 bigbird.toaster.com.
toaster.com.   AFSDB   1 ernie.toaster.com.
toaster.com.   AFSDB   1 henson.toaster.com.
```

Toaster公司部署了AFS 3.0但尚未部署DCE，其单元名为toaster.com，有三台AFS 3.0单元数据库服务器。

**示例2：Femto学院的DCE和AFS混合部署**

```
femto.edu.   AFSDB   2 green.femto.edu.
femto.edu.   AFSDB   2 turquoise.femto.edu.
femto.edu.   AFSDB   1 turquoise.femto.edu.
femto.edu.   AFSDB   1 orange.femto.edu.
```

Femto学院部署了DCE，其DCE单元根目录由green.femto.edu和turquoise.femto.edu上的进程提供服务。同时，他们的DCE文件服务器也运行AFS 3.0兼容的卷位置服务器。

## 2. 责任人 (RP)

### 概述

RP（Responsible Person）资源记录提供了一种标准方法，用于将责任人标识关联到DNS中的任何名称。该记录类型的助记符为RP，类型代码为17（十进制）。

### 背景和动机

DNS作为分布式数据库包含多种形式的信息。对于特定的名称或主机，可以发现其互联网地址、邮件转发信息、硬件类型和操作系统等。

DNS的关键特性是树状命名空间可以划分为区域（zones），用于分配控制和责任。区域数据库的责任人在该区域的SOA记录中指定。RP记录扩展允许为区域内的不同名称指定不同的责任人。

### 责任方识别的必要性

当主机宕机或故障时，很难联系到可能解决或修复该主机的相关方。发送到POSTMASTER的邮件可能无法及时到达相关人员。如果主机是众多工作站之一，可能没有可以在该主机上联系的责任人。

RP记录允许将邮箱关联到不接收邮件或与问题没有直接连接（命名空间方面）的实体。例如，GATEWAY.ISI.EDU可能想指向HOTLINE@BBN.COM，而GATEWAY不接收邮件，ISI区域管理员也不知道如何修复网关。

### 记录格式

```
<owner> <ttl> <class> RP <mbox-dname> <txt-dname>
```

**字段说明：**
- `<owner>`: 域名所有者
- `<ttl>`: 生存时间
- `<class>`: 类别（通常为IN）
- `<mbox-dname>`: 指定责任人邮箱的域名（必需）
- `<txt-dname>`: 存在TXT记录的域名，用于提供额外信息（必需）

### 字段详细说明

**邮箱域名 (mbox-dname)**
- 使用DNS邮箱编码约定，与SOA记录中的RNAME字段相同
- 根域名（仅"."）表示没有可用的邮箱

**文本域名 (txt-dname)**
- 指向包含TXT记录的域名
- 提供间接级别，使实体可以从DNS的多个位置引用
- 根域名（仅"."）表示TXT_DNAME不存在，没有关联的TXT记录

### 特性

- RP记录格式与类别无关
- RP记录不引起附加段处理
- 可以与DNS层次结构中的任何节点关联，不仅限于叶节点
- 单个名称可以有多个RP记录，它们应具有相同的TTL

### 示例

**示例1：单个责任人**

```
sayshell.umd.edu. A     128.8.1.14
                  MX    10 sayshell.umd.edu.
                  HINFO NeXT UNIX
                  WKS   128.8.1.14 tcp ftp telnet smtp
                  RP    louie.trantor.umd.edu.  LAM1.people.umd.edu.

LAM1.people.umd.edu. TXT "Louis A. Mamakos, (301) 454-2946, don't call me at home!"
```

主机SAYSHELL.UMD.EDU的责任人邮箱是louie@trantor.umd.edu，LAM1.people.umd.edu的TXT记录提供额外信息和建议。

**示例2：多个责任人**

```
TERP.UMD.EDU.    A     128.8.10.90
                 MX    10 128.8.10.90
                 HINFO MICROVAX-II UNIX
                 WKS   128.8.10.90 udp domain
                 WKS   128.8.10.90 tcp ftp telnet smtp domain
                 RP    louie.trantor.umd.edu. LAM1.people.umd.edu.
                 RP    root.terp.umd.edu. ops.CS.UMD.EDU.

TRANTOR.UMD.EDU. A     128.8.10.14
                 MX    10 trantor.umd.edu.
                 HINFO MICROVAX-II UNIX
                 WKS   128.8.10.14 udp domain
                 WKS   128.8.10.14 tcp ftp telnet smtp domain
                 RP    louie.trantor.umd.edu. LAM1.people.umd.edu.
                 RP    petry.netwolf.umd.edu. petry.people.UMD.EDU.
                 RP    root.trantor.umd.edu. ops.CS.UMD.EDU.
                 RP    gregh.sunset.umd.edu.  .

LAM1.people.umd.edu.  TXT   "Louis A. Mamakos (301) 454-2946"
petry.people.umd.edu. TXT   "Michael G. Petry (301) 454-2946"
ops.CS.UMD.EDU.       TXT   "CS Operations Staff (301) 454-2943"
```

TRANTOR.UMD.EDU指定了四个可能希望收到问题或事件通知的人员。最后一个RP记录指定了邮箱但没有关联的TXT记录。

## 3. X.25和ISDN地址、路由绑定

### 概述

本节描述了DNS中X.25和ISDN地址的实验性表示方法，以及类似于邮件路由MX记录的路由绑定方法，用于超大规模网络。

### 应用场景

这些记录有几种可能的实验性用途：

1. **静态配置文档** - 为IP/X.25和SMTP/X.25的静态配置提供正确地址的简单文档
2. **自动路由** - 可被互联网网络层路由器自动使用，将IP地址映射到域名，然后映射到规范名称，跟随RT记录，最后尝试IP/X.25呼叫
3. **可扩展的地址解析** - 为广域非广播网络提供类似ARP的功能，可扩展到数亿主机的网络
4. **互操作性测试** - 标准地址绑定参考将促进X.25和ISDN使用的其他实验，特别是在严格的互操作性测试中

### X25记录

#### 基本信息

- **助记符**: X25
- **类型代码**: 19（十进制）

#### 记录格式

```
<owner> <ttl> <class> X25 <PSDN-address>
```

**字段说明：**
- `<owner>`: 域名所有者
- `<ttl>`: 生存时间
- `<class>`: 类别（通常为IN）
- `<PSDN-address>`: X.121编号计划中的PSDN地址（必需）

#### PSDN地址格式

- 格式与类别无关
- 不引起附加段处理
- 地址是十进制数字字符串
- 以4位DNIC（数据网络识别码）开头，符合X.121规范
- **不得**使用国家前缀（如0）

#### 示例

```
Relay.Prime.COM.  X25  311061700956
```

### ISDN记录

#### 基本信息

- **助记符**: ISDN
- **类型代码**: 20（十进制）

#### 背景

ISDN（综合业务数字网）号码本质上是电话号码。CCITT成员的意图是将所有电话和数据网络服务升级到统一服务。

编号计划（E.163/E.164）与熟悉的国际POTS（Plain Old Telephone Service，普通老式电话服务）计划相同。CCITT在E.166中指出："E.163/E.164电话用户可以在不更改号码的情况下成为ISDN用户。"

#### 记录格式

```
<owner> <ttl> <class> ISDN <ISDN-address> <sa>
```

**字段说明：**
- `<owner>`: 域名所有者
- `<ttl>`: 生存时间
- `<class>`: 类别（通常为IN）
- `<ISDN-address>`: ISDN号码（必需）
- `<sa>`: 子地址（可选）

#### 地址格式详细说明

**ISDN地址**
- 由E.164和E.163定义（ISDN和PSTN编号计划）
- E.163定义国家代码，E.164定义地址形式
- 主文件中格式为字符串，通常为十进制数字
- 以E.163国家代码开头，以DDI（直接拨入）结束（如有）
- Q.931允许在一般情况下使用任何IA5字符

**子地址 (sa)**
- 十六进制数字字符串
- 对于数字0-9，Q.931呼叫建立信息元素中的具体编码与BCD相同

#### 特性

- 格式与类别无关
- 不引起附加段处理
- RR数据是数字的ASCII表示
- 编码为一个或两个字符串（计数后跟字符）

#### 示例

```
Relay.Prime.COM.   IN   ISDN      150862028003217
sh.Prime.COM.      IN   ISDN      150862028003217 004
```

注：国家代码"1"是北美综合编号区域，即这些国家熟悉的"区号"系统。

#### 与X.25的互操作

CCITT建议E.166定义了在X.121中表示ISDN（E.163/E.164）地址以及在E.164中表示PSDN（X.121）地址的前缀转义码。它规定确切的代码是"国家事务"，即在不同网络上不同。连接到ISDN的主机可能能够同时使用X25和ISDN地址，并添加本地前缀。

### RT记录（Route Through）

#### 基本信息

- **助记符**: RT
- **类型代码**: 21（十进制）

#### 概述

RT资源记录为没有自己的直接广域网地址的主机提供路由绑定。它的使用方式与MX记录非常相似。

#### 记录格式

```
<owner> <ttl> <class> RT <preference> <intermediate-host>
```

**字段说明：**
- `<owner>`: 域名所有者
- `<ttl>`: 生存时间
- `<class>`: 类别（通常为IN）
- `<preference>`: 16位整数，表示路由的优先级（必需）
- `<intermediate-host>`: 作为中间节点的主机域名（必需）

#### 字段详细说明

**优先级 (preference)**
- 数字越小表示路由越优先
- 与MX记录的优先级概念相同

**中间主机 (intermediate-host)**
- 将作为到达`<owner>`指定主机的中间节点的主机域名
- 该主机的DNS记录应至少包含一条A、X25或ISDN记录

#### 特性

- 格式与类别无关
- RT记录触发对`<intermediate-host>`的X25、ISDN和A类型附加段处理
- 具体编码与MX记录相同

#### 路由查找过程

当主机查找DNS记录以尝试路由数据报时：

1. 首先查找目标主机的RT记录
2. RT记录指向具有地址记录（A、X25、ISDN）的主机，这些地址与主机可用的广域网兼容
3. 如果主机本身在RT记录集中，则丢弃优先级高于或等于自己的RT记录
4. 如果没有（剩余的）RT记录，则可以使用目标本身的地址记录

#### 通配符和链接规则

- 通配符RT的使用方式与通配符MX完全相同
- RT不"链接"，即不能使用RT引用的主机的RT记录

#### 示例

```
sh.prime.com.      IN   RT   2    Relay.Prime.COM.
                   IN   RT   10   NET.Prime.COM.
*.prime.com.       IN   RT   90   Relay.Prime.COM.
```

在此示例中：
- sh.prime.com可以通过Relay.Prime.COM（优先级2）或NET.Prime.COM（优先级10）路由
- prime.com域下的所有其他主机可以通过Relay.Prime.COM（优先级90）路由

## 技术影响与意义

### DNS功能扩展

RFC 1183展示了DNS作为分布式数据库的灵活性和可扩展性。通过定义新的资源记录类型，DNS不仅可以存储主机名到IP地址的映射，还可以支持：

1. **分布式文件系统定位** - AFSDB记录使客户端能够自动发现AFS和DCE服务器
2. **责任追踪** - RP记录提供了网络管理和故障排除的重要信息
3. **多网络地址管理** - X25、ISDN和RT记录支持异构网络环境

### 实验性质的重要性

文档明确指出这些记录类型是实验性的，这反映了互联网标准开发的谨慎态度。实验性状态允许：

- 在实际部署中测试新概念
- 收集使用反馈
- 在广泛采用前进行必要的调整

### 设计模式

RFC 1183展示了几个重要的设计模式：

1. **子类型机制** - AFSDB使用子类型字段区分不同服务，节省了DNS类型空间
2. **间接引用** - RP记录使用TXT记录的间接引用，允许信息共享和重用
3. **优先级机制** - RT记录借鉴MX记录的优先级概念，提供灵活的路由选择

## 实际应用与后续发展

### AFSDB记录的采用

AFSDB记录在AFS部署中得到了实际应用，特别是在学术和研究机构中。它简化了AFS客户端配置，使客户端能够自动发现单元数据库服务器。

### RP记录的使用

RP记录提供了一种标准化的责任人信息管理方法，虽然在实践中采用有限，但其概念影响了后续的DNS扩展和网络管理实践。

### X.25和ISDN记录的历史地位

X25、ISDN和RT记录反映了1990年代初期网络技术的多样性。虽然这些技术在现代互联网中已不再主流，但这些记录类型展示了DNS适应不同网络技术的能力。

## 资源记录类型汇总

### 定义的五种记录类型

| 记录类型 | 助记符 | 类型代码 | 用途 |
|---------|--------|---------|------|
| AFS数据库位置 | AFSDB | 18 | 定位AFS和DCE服务器 |
| 责任人 | RP | 17 | 关联责任人信息 |
| X.25地址 | X25 | 19 | 存储PSDN地址 |
| ISDN地址 | ISDN | 20 | 存储ISDN号码 |
| 路由绑定 | RT | 21 | 提供路由中间节点 |

### 附加段处理特性

| 记录类型 | 触发附加段处理 |
|---------|---------------|
| AFSDB | 对hostname进行A类型处理 |
| RP | 不触发（可选TXT处理） |
| X25 | 不触发 |
| ISDN | 不触发 |
| RT | 对intermediate-host进行X25、ISDN、A类型处理 |

## 安全考虑

RFC 1183明确指出："本备忘录未涉及安全问题。"

这反映了1990年互联网安全意识的状态。当时DNS安全（如DNSSEC）尚未开发，文档主要关注功能性而非安全性。

## 参考文献

RFC 1183引用了以下重要文献：

### DNS核心文档
- **RFC 1032** - Domain Administrators Guide（域管理员指南）
- **RFC 1033** - Domain Administrators Operations Guide（域管理员操作指南）
- **RFC 1034** - Domain Names - Concepts and Facilities（域名 - 概念和设施）
- **RFC 1035** - Domain Names - Implementation and Specification（域名 - 实现和规范）
- **RFC 1101** - DNS Encoding of Network Names and Other Types（网络名称和其他类型的DNS编码）

### 分布式文件系统
- **Spector A., and M. Kazar** - "Uniting File Systems", UNIX Review, 7(3), pp. 61-69, March 1989
- **Zahn, et al.** - "Network Computing Architecture", Prentice-Hall, 1989

### CCITT标准（电信标准）
- **E.163** - Numbering Plan for the International Telephone Service（国际电话服务编号计划）
- **E.164** - Numbering Plan for the ISDN Era（ISDN时代编号计划）
- **E.166** - Numbering Plan Interworking in the ISDN Era（ISDN时代编号计划互通）
- **X.121** - International Numbering Plan for the Public Data Networks（公共数据网络国际编号计划）

### 网络协议
- **RFC 877** - Standard for the Transmission of IP datagrams Over Public Data Networks（IP数据报在公共数据网络上传输的标准）
- **RFC 1090** - SMTP on X.25（X.25上的SMTP）

## 作者信息

### Craig F. Everhart
- **组织**: Transarc Corporation
- **地址**: The Gulf Tower, 707 Grant Street, Pittsburgh, PA 15219
- **电话**: +1 412 338 4467
- **邮箱**: Craig_Everhart@transarc.com

### Louis A. Mamakos
- **组织**: University of Maryland, Network Infrastructure Group, Computer Science Center
- **地址**: College Park, MD 20742-2411
- **电话**: +1-301-405-7836
- **邮箱**: louie@Sayshell.UMD.EDU

### Robert Ullmann
- **组织**: Prime Computer, Inc.
- **地址**: 500 Old Connecticut Path, Framingham, MA 01701
- **电话**: +1 508 620 2800 ext 1736
- **邮箱**: Ariel@Relay.Prime.COM

### Paul Mockapetris (编辑)
- **组织**: USC Information Sciences Institute
- **地址**: 4676 Admiralty Way, Marina del Rey, CA 90292
- **电话**: 213-822-1511
- **邮箱**: pvm@isi.edu

## 总结

RFC 1183是DNS发展史上的重要文档，它展示了DNS作为分布式数据库系统的灵活性和可扩展性。通过定义五种新的资源记录类型，该文档为DNS增加了支持分布式文件系统、责任人管理和广域网地址表示的能力。

虽然这些记录类型被标记为实验性，但它们代表了互联网技术发展的重要阶段。AFSDB记录在AFS部署中得到了实际应用，而X25、ISDN和RT记录则反映了1990年代初期网络技术的多样性。RP记录提供的责任人管理概念也影响了后续的网络管理实践。

RFC 1183的设计模式，如子类型机制、间接引用和优先级机制，为后续的DNS扩展提供了宝贵的经验。该文档更新了RFC 1034和RFC 1035，是DNS标准演进过程中的重要里程碑。
